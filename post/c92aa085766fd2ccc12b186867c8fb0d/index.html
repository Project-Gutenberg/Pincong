<!doctype html><html lang=zh-cn><head><meta charset=utf-8><title>简单的中文情绪分析</title><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=description content=" snownlp是一个针对简体中文的包 https://github.com/isnowfy/snownlp
安装
pip install snownlp
可以考虑用它作中文情绪分析，实时检测论坛中的辱骂内容，自动折叠，甚至封禁。
（引用辱骂言论要格外小心）
每个分句情绪打分0-1，0表示极端负面，1表示极端正面情绪。
python代码
from snownlp import SnowNLP
textraw = u&rsquo; 你连你妈这种弱智都比不上。u r simply brainless. '
text = SnowNLP(textraw)
sent = text.sentences
for sen in sent:
s = SnowNLP(sen)
print(s.sentiments)
测试1 辱骂 citadelguy1 https://pincong.rocks/article/2546，两句辱骂得分都接近0，检测成功
0.05758979804724318, 你连你妈这种弱智都比不上
0.09440545332796668, u r simply brainless.
测试2 Clickbait类标题 https://pincong.rocks/question/5458 "><meta name=generator content="Hugo 0.100.2"><link rel=stylesheet href=../../plugins/bootstrap/bootstrap.min.css><link rel=stylesheet href=../../plugins/themify-icons/themify-icons.css><link rel=stylesheet href=https://project-gutenberg.github.io/Pincong/scss/style.min.css media=screen><link rel="shortcut icon" href=https://project-gutenberg.github.io/Pincong/images/favicon.png type=image/x-icon><link rel=icon href=https://project-gutenberg.github.io/Pincong/images/favicon.png type=image/x-icon><meta name=twitter:card content="summary_large_image"><meta name=og:title content=" 简单的中文情绪分析 "><meta name=og:description content=" snownlp是一个针对简体中文的包 https://github.com/isnowfy/snownlp
安装
pip install snownlp
可以考虑用它作中文情绪分析，实时检测论坛中的辱骂内容，自动折叠，甚至封禁。
（引用辱骂言论要格外小心）
每个分句情绪打分0-1，0表示极端负面，1表示极端正面情绪。
python代码
from snownlp import SnowNLP
textraw = u&rsquo; 你连你妈这种弱智都比不上。u r simply brainless. '
text = SnowNLP(textraw)
sent = text.sentences
for sen in sent:
s = SnowNLP(sen)
print(s.sentiments)
测试1 辱骂 citadelguy1 https://pincong.rocks/article/2546，两句辱骂得分都接近0，检测成功
0.05758979804724318, 你连你妈这种弱智都比不上
0.09440545332796668, u r simply brainless.
测试2 Clickbait类标题 https://pincong.rocks/question/5458 "><meta name=og:image content="https://project-gutenberg.github.io/Pincong//images/card/125.jpg"><script data-ad-client=ca-pub-6074407261372769 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-06HJ1E5XNH"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-06HJ1E5XNH')</script></head><body><header class="fixed-top navigation"><div class=container><nav class="navbar navbar-expand-lg navbar-light bg-transparent"><a class=navbar-brand href=https://project-gutenberg.github.io/Pincong/><img class=img-fluid src=https://project-gutenberg.github.io/Pincong//images/logo.png alt=品葱*精选></a>
<button class="navbar-toggler border-0" type=button data-toggle=collapse data-target=#navigation>
<i class="ti-menu h3"></i></button><div class="collapse navbar-collapse text-center" id=navigation><ul class="navbar-nav ml-auto"><li class=nav-item><a class=nav-link href=https://project-gutenberg.github.io/Pincong/>Home</a></li><li class=nav-item><a class=nav-link href=https://project-gutenberg.github.io/Pincong/post/index.xml>RSS</a></li><li class=nav-item><a class=nav-link href=https://bit.ly/2HrxEi0>Telegram</a></li><li class=nav-item><a class=nav-link href=https://twitter.com/speechfree3>Twitter</a></li></ul></div></nav></div></header><div class="py-5 d-none d-lg-block"></div><section class=main-content><div class=container><div class=row><div class="col-lg-8 mx-auto block shadow mb-5"><h2>简单的中文情绪分析</h2><div class=mb-3><span>by <a href=https://project-gutenberg.github.io/Pincong/author/%e7%a7%91%e5%ad%a6%e6%80%aa%e4%ba%ba>科学怪人</a></span>,
<span>at 27 July 2019</span>, tags :
<a href=https://project-gutenberg.github.io/Pincong/tags/%e6%83%85%e7%bb%aa%e5%88%86%e6%9e%90>情绪分析</a>
<a href=https://github.com/Project-Gutenberg/Pincong-data/edit/master/site/content/post/c92aa085766fd2ccc12b186867c8fb0d.md style=color:gray><strong><i>点击纠错</i></strong></a>
<i></i><a href=https://github.com/Project-Gutenberg/Pincong-data/delete/master/site/content/post/c92aa085766fd2ccc12b186867c8fb0d.md style=color:gray><strong><i>点击删除</i></strong></a></div><h5><a href=https://bit.ly/justmysock>使用CN2/CN2GIA顶级线路，支持Shadowsocks/V2ray科学上网，支持支付宝付款，每月仅需 5 美元</a></h5><h5><a href=https://bit.ly/2HrxEi0>## 加入品葱精选 Telegram Channel ##</a></h5><p></p><p>snownlp是一个针对简体中文的包 <a href=%22https://github.com/isnowfy/snownlp%22>https://github.com/isnowfy/snownlp</a></p><p>安装<br>pip install snownlp</p><p>可以考虑用它作中文情绪分析，实时检测论坛中的辱骂内容，自动折叠，甚至封禁。<br>（引用辱骂言论要格外小心）<br>每个分句情绪打分0-1，0表示极端负面，1表示极端正面情绪。</p><p>python代码</p><blockquote><p>from snownlp import SnowNLP</p><p>textraw = u&rsquo; 你连你妈这种弱智都比不上。u r simply brainless. '</p><p>text = SnowNLP(textraw)<br>sent = text.sentences<br>for sen in sent:<br>    s = SnowNLP(sen)<br>    print(s.sentiments)</p></blockquote><p>测试1 辱骂 citadelguy1 <a href=https://pincong.rocks/article/2546 title=https://pincong.rocks/article/2546>https://pincong.rocks/article/2546</a>，两句辱骂得分都接近0，检测成功</p><blockquote><p>0.05758979804724318, 你连你妈这种弱智都比不上<br>0.09440545332796668, u r simply brainless.</p></blockquote><p>测试2 Clickbait类标题 <a href=https://pincong.rocks/question/5458 title=https://pincong.rocks/question/5458>https://pincong.rocks/question/5458</a><br>检测比较成功</p><blockquote><p>0.19999999999999996, “姨妈来了<br>0.15779537709692548, 多喝水”“滚<br>0.4737672181921908, ”（Papi酱）</p></blockquote><p>测试3 粗鲁语言 <a href=https://pincong.rocks/article/2546 title=https://pincong.rocks/article/2546>https://pincong.rocks/article/2546</a> 有一句检测出来，其余很多都误判</p><blockquote><p>0.927197827472927, 这些大大小小论坛里头挺共的人啥鸡巴都不懂<br>0.41790744248665135, 整天除了复读几句官煤的话就是刷屏洗版<br>0.7803827019416919, 要让他们说点共产党制定政策和行事的逻辑<br>0.3907974539713116, 他们还不如我们这些反贼了解的清楚<br>0.9208456978650069, 要派人来踢馆就要派点懂理论有本事有耐性有纪律的精英来<br>0.10583924187953386, 那种挨不起两句骂就控制不住情绪对骂的垃圾我们不欢迎<br>0.43385383436126157, 派这种垃圾来就是看不起我们嘛<br>0.8530966709059733, 他们敢派这样的傻逼去见政治局常委吗<br>0.5707993346418163, 我们的态度也是对等的<br>0.547300555529161, 自干五也要参考五毛的标准<br>0.2027434232344748, 不然怎么对的起「五」字</p></blockquote><p>测试 4 粗鲁语言</p><blockquote><p>0.9411086812424297, 以中共这种全党腐败、离心离德、高层互杀的尿性<br>0.7979461276055869, 到时候不知高层会有多少刘连昆呢<br>0.7834302728770437, 刘不过是校官不是上层<br>0.6478398242842971, 但是大鼹鼠平时不动<br>0.8527849730778211, 关键时刻一下子就撼动中共国祚<br>0.29327006512214027, 土共知道这点<br>0.2217291501820553, 所以它不敢打<br>0.673944186023879, 一打台湾台军必然视死若归捍卫民国<br>0.7749290041983888, 拖48小时美军航母、日本自卫队一来<br>0.09305168967864463, 中共那2口铁棺材（据说一口在建）就不灵了</p></blockquote><p>测试 5 一般评论 <a href=https://pincong.rocks/article/2600 title=https://pincong.rocks/article/2600>https://pincong.rocks/article/2600</a></p><blockquote><p>0.046322328780759925, 開槍打死監戰員<br>0.5640844766694931, 就算死也要帶走一個</p></blockquote><p>snownlp是基于词库进行判断，可见通用的语言模型放到品葱误判率较高。<br>测试4、5中，涉及「死」「棺材」字眼评分很负面，但实际上并不负面。<br>测试3粗鲁语言较多，但因为有「中共」「政治局」「挺」等字眼却将粗鲁语言评分非常正面。<br>测试1、2 那种一般性骂人语言检测率很高。</p><p>其他例子，五毛喜欢用的短句辱骂检测率很高，长句较差。</p><blockquote><p>0.07565353203396996, 弱智你来送妈了</p><p>0.01495877994086492, 为什么汉奸狗和台巴子都觉得我们是翻墙的<br>0.6496504748650795, 我不能在美国</p><p>0.607471099845429, 汉奸狗精神分离症患者<br>0.8321239771987957, 你开心就好<br>0.8684210526315791, 哈哈哈<br>0.08378756987007996, 轮子狗死死死死死死死<br>0.22428735224290963, 共产党剁掉你全家的脑袋<br>0.1771040735759627, 锁住你全家的鬼混<br>0.5618564189277186, 让你全家永世不得超生<br>0.5262327818078083, 嘎哈哈啊哈</p></blockquote><p>建议：品葱应收集辱骂和人身攻击性捣乱者的语言进行搜集，提取常用词汇，方便自动检测极端负面情绪和辱骂。不过snownlp的好处是速度快。</p><h3 id=品葱用户-admin-评论于-2019-07-27>品葱用户 <strong>admin</strong> 评论于 2019-07-27</h3><p>希望有人能够整合进折叠功能，会python的能做一下后端</p><h3 id=品葱用户-abstract01-评论于-2019-07-27>品葱用户 <strong>abstract01</strong> 评论于 2019-07-27</h3><p>这个提议有相关rfc吗, 提议是不是应该先放在rfc里公开讨论, 然后通过的大家再在这里讨论实现.<br>还有我一直没搞清楚, rfc的通过与否, 到底是怎么判定的, 大家点赞的数量? 底下发言支持的留言数量和反对数量对比? 好像没看到有具体规则.</p><p>再说说这个提议.<br>这个包本身是做sentiment analysis的,我做过英文的情感分析,这种主要用于分析买东西,看电影评价的好坏,比如你说&rsquo; 这个电影太无聊, 难看, 讨厌了&rsquo;, 应该就会很negative.&lsquo;太好看,有趣,高兴&rsquo;, 就会很positive. 这种无法用作谩骂言论的参考.<br>对辱骂和人身攻击当然应该严厉, 因为他们很大可能就是五毛来捣乱的策略之一.<br>但是对自动的言语检测, 自动折叠, 自动封禁要千万谨慎, 因为这种功能误伤一个, 都是破坏了自由讨论的环境. 可以参考reddit等论坛, 似乎也没有因为检测出敏感词所以发不出去, 自动删除的功能.</p><p>我个人的想法是如果要检测谩骂, 自动折叠等, 一定要谨慎和保守, 就别上什么机器学习, 模型训练了, 能有个最基础的辱骂关键词列表, 匹配到列表上的关键词能自动折叠, 扣分等就可以了. 而且这个关键词列表一定要公开, 一定要尽量少和必要. 其实如果论坛没有五毛来捣乱,这样的关键词列表本身就是负担, 因为有些词到底加不加入进去, 又成了众说纷纭讨论的对象.<br>所以我整体不是太赞成这个提议, 看大家的意见.</p><p>如果要实现这个功能, 肯定没有合适的面对中文能用的包, 甚至我连公开的中文谩骂语料库都没找到, 如果有人能找到, 可以在这里分享.</p><p><a href=https://www.163yun.com/product/text-detection>https://www.163yun.com/product/text-detection</a> 这是网易搞的文本分析, 可以看出除了谩骂, 还加入了色情, 广告, 敏感, 涉政, 宗教, 等等, 还搞用户画像&mldr;这种功能一旦强大, 就很可能走向品葱建立初衷的反面.</p><p>对典型的五毛话术, 诸如&rsquo;这样对你自己有什么好处呢, 中国要完了大家都得完蛋&rsquo;, 要做到自动检测等有点太困难, 可以建立一个版块来集中典型五毛言论和相应的优秀回复, 参考https://program-think.blogspot.com/2011/03/logical-fallacies.html, 应该是个前途光明同时需要大家齐心协力完成的项目. 大可不必自动检测和封禁这种, 反倒可以直接甩出链接, 避免陷入与五毛的口水战浪费时间, 因为五毛的目的就是浪费人们的精力和时间, 自己也知道没可能忽悠这里的用户.</p><h3 id=品葱用户-科学怪人>品葱用户 **科学怪人</h3><p>admin** 评论于 2019-07-28</p><p>最关键的是要首先搜集一些辱骂的言论，否则准确率太差，按照RFC-068的思路搜集辱骂型网评员数据是很不错的，构建一个词汇表很快就能将网评员的辱骂词汇搜集齐全。</p><p>在搜集样品基础上，这个方法能比较准确的检测短句辱骂，可以用于自动折叠，自动折叠的内容可以通过几个人点赞解除折叠。</p><h3 id=品葱用户-科学怪人-1>品葱用户 **科学怪人</h3><p>abstract01** 评论于 2019-07-27</p><p>这里一般不删除言论吧，只有被封禁之后7天才自动删除，自动折叠短句辱骂我觉得问题不大，本来就是为了促进深入讨论。总的来说人工+自动是比较好的方式。</p><h3 id=品葱用户-abstract01>品葱用户 **abstract01</h3><p>科学怪人** 评论于 2019-07-27</p><p>我觉得RFC068应该是要收集完整五毛留言, 我也支持. 甚至可以收集推特facebook等上面五毛的典型言论, 建立五毛语料库, 前途无量.<br>但说到自动折叠,我觉得目前可行的就是找到中文谩骂词库, 触发其中的谩骂词汇就折叠.<br>如果实在没有这样的词库, 就先手动录入一些 诸如&rsquo; 傻逼&rsquo; &lsquo;死全家&rsquo; 之类的, 同时公开词库, 只要有这些词就折叠, 没有误判的可能性.</p><h3 id=品葱用户-科学怪人-评论于-2019-07-28>品葱用户 <strong>科学怪人</strong> 评论于 2019-07-28</h3><p>这种自动过滤程序并不是中国才有，许多美国互联网公司都自动过滤色情，暴力等言论。何况只是折叠，目的还是搜集数据。</p><p>尤其是手动标注/折叠功能开发之后，被折叠言论就可以放到样本数据库里。</p><h3 id=品葱用户-支忽精英>品葱用户 **支忽精英</h3><p>科学怪人** 评论于 2019-07-29</p><p>品葱现在7天就删除了，不然你开个新project，记录五毛折叠言论的，每7天更新一次，根据品葱database update的时间更新，publish结果到github.io一个站怎么样？</p><h3 id=品葱用户-科学怪人-2>品葱用户 **科学怪人</h3><p>支忽精英** 评论于 2019-07-29</p><p>可以</p><h3 id=品葱用户-worldelite-评论于-2019-07-31>品葱用户 <strong>worldelite</strong> 评论于 2019-07-31</h3><p>训练模型需要的并不只是五毛发言，「正常」的发言数量甚至更为重要。并且要达到足够准确度的数据量也是多多益善。</p><h3 id=品葱用户-支忽精英-1>品葱用户 **支忽精英</h3><p>科学怪人** 评论于 2019-08-01</p><p>现在删号after 7 days没有了，就是为了五毛样本的purpose，你来做吧？</p><h3 id=品葱用户-范松忠-评论于-2020-05-17>品葱用户 <strong>范松忠</strong> 评论于 2020-05-17</h3><p>还是不要随便封啊，我张口闭口离不开习杂种、王培尔，任土匪的，要这样的话不是把我也封了。</p><h3 id=品葱用户-庆丰自挂东南枝-评论于-2020-05-26>品葱用户 <strong>庆丰自挂东南枝</strong> 评论于 2020-05-26</h3><p>哈哈，时代在进步啊。以后我东南枝反共匪也得好好学习一个，不能再满口粗话了。</p><h3 id=品葱用户-思想火炬-评论于-2020-05-26>品葱用户 <strong>思想火炬</strong> 评论于 2020-05-26</h3><p>不建议折叠回答。可采用减小字体的方式减少辨识度。因为作为一个强迫症喜欢点开所有折叠部分。。。</p><blockquote><p><a href=https://pincong.rocks/article/2627>点击品葱原文参与讨论</a></p></blockquote><h5><a href="https://www.digitalocean.com/?refcode=4351d40e44b2&utm_campaign=Referral_Invite&utm_medium=Referral_Program&utm_source=CopyPaste">最简单好用的 VPS,没有之一，注册立得 100 美金</a></h5></div><div class="col-lg-8 mx-auto block shadow"><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return}var t=document,e=t.createElement('script');e.async=!0,e.src='//pin-cong-jing-xuan.disqus.com/embed.js',e.setAttribute('data-timestamp',+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><div class="col-lg-8 mx-auto block shadow"><h3>See Also</h3><div class=container><div class=row><div class="mx-auto px-0"><div class="bg-white shadow block"><article class=mb-5><h2 class=h5><a class=text-dark href="https://project-gutenberg.github.io/Pincong/post/d6f8dd296df04978cdd1549bd968033c/?utm_source=see_also&utm_medium=%25E7%25AE%2580%25E5%258D%2595%25E7%259A%2584%25E4%25B8%25AD%25E6%2596%2587%25E6%2583%2585%25E7%25BB%25AA%25E5%2588%2586%25E6%259E%2590">简单的中文情绪分析</a></h2><p class=text-dark>snownlp是一个针对简体中文的包 https://github.com/isnowfy/snownlp
安装
pip install snownlp
可以考虑用它作中文情绪分析，实时检测论坛中的辱骂内容，自动折叠，甚至封禁。
（引用辱骂 …</p></article></div></div></div></div></div></div></div></div></section><script>var i,images=document.getElementsByTagName("img");for(i=0;i<images.length;i++)images[i].className+="img-fluid w-100 mb-4"</script><footer class="py-4 bg-light border-top"><div class=container><div class="row justify-content-between align-items-center"><div class="col-lg-4 text-center text-lg-left mb-4 mb-lg-0"><a href=https://project-gutenberg.github.io/Pincong/><img src=https://project-gutenberg.github.io/Pincong//images/logo.png class=img-fluid alt=品葱*精选></a></div><div class="col-lg-4 text-center mb-4 mb-lg-0"><ul class="list-inline mb-0"></ul></div><div class="col-lg-4 text-lg-right text-center mb-4 mb-lg-0"><ul class="list-inline social-icon mb-0"><li class=list-inline-item><a href=https://pincong.rocks/><i class=ti-home></i></a></li><li class=list-inline-item><a href=https://github.com/Project-Gutenberg/Pincong><i class=ti-github></i></a></li></ul></div><div class="col-12 text-center mt-4"><span></span></div></div></div></footer><script src=../../plugins/jQuery/jquery.min.js></script>
<script src=../../plugins/bootstrap/bootstrap.min.js></script>
<script src=../../plugins/search/fuse.min.js></script>
<script src=../../plugins/search/mark.js></script>
<script src=../../plugins/search/search.js></script>
<script src=https://project-gutenberg.github.io/Pincong/js/script.min.js></script>
<script>(function(e,o,i,a,t,n,s){e.GoogleAnalyticsObject=t,e[t]=e[t]||function(){(e[t].q=e[t].q||[]).push(arguments)},e[t].l=1*new Date,n=o.createElement(i),s=o.getElementsByTagName(i)[0],n.async=1,n.src=a,s.parentNode.insertBefore(n,s)})(window,document,'script','//www.google-analytics.com/analytics.js','ga'),ga('create','UA-151212685-6','auto'),ga('send','pageview')</script></body></html>